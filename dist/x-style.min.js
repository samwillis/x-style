(()=>{var u=document,h=(e,t)=>e.querySelectorAll(t),f=[],b=[],e=(a,i)=>{var s,o,
l=0,c=new Map,d=a+"-match",e=new MutationObserver(e=>{for(var t of e)if(
"attributes"===t.type)n(t.target);else if("childList"===t.type)for(
var r of t.addedNodes)r instanceof HTMLElement&&(r.hasAttribute(a)&&n(r),[...h(r
,`[${a}]`)].forEach(n))}),n=e=>{var t,r=e.getAttribute(a);!r||c.has(r
)?i&&e.setAttribute(d,c.get(r)):(l++,c.set(r,l),t=i?(e.setAttribute(d,l),
`[${d}="${l}"]`):`[${a}="${CSS.escape(r)}"]`,f.forEach(e=>r=e(r)),t+=` { ${r} }`
,b.forEach(e=>t=e(t)),(s=s||u.createElement("style")).appendChild(
u.createTextNode(t)),o||(o=!0,queueMicrotask(()=>{u.head.appendChild(s),s=null,
o=!1})))};h(u,`[${a}]`).forEach(n),e.observe(u.documentElement,{attributes:!0,
attributeFilter:[a],childList:!0,subtree:!0})};e.pre=f,e.post=b,
e.version="0.0.1",window.xstyle=e})();