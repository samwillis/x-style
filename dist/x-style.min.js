(()=>{var r=document,u=(e,t)=>e.querySelectorAll(t),h=[],f=[],e=(a,i)=>{var e,
s="",o=0,l=new Map,n=a+"-match",t=new MutationObserver(e=>{for(var t of e)if(
"attributes"===t.type)c(t.target);else if("childList"===t.type)for(
var r of t.addedNodes)r instanceof HTMLElement&&(r.hasAttribute(a)&&c(r),[...u(r
,`[${a}]`)].forEach(c));d()}),d=()=>{s&&((e=r.createElement("style")
).appendChild(r.createTextNode(s)),r.head.appendChild(e),e=null,s="")},c=e=>{
var t,r=e.getAttribute(a);!r||l.has(r)?i||e.setAttribute(n+"-"+l.get(r),""):(o++
,l.set(r,o),t=i?`[${a}="${CSS.escape(r)}"]`:(e.setAttribute(n+"-"+l.get(r),""),
`[${n}-${l.get(r)}]`),h.forEach(e=>r=e(r)),t+=` { ${r} }`,f.forEach(e=>t=e(t)),
s=s+t+"\n")};u(r,`[${a}]`).forEach(c),d(),t.observe(r.documentElement,{
attributes:!0,attributeFilter:[a],childList:!0,subtree:!0})};e.pre=h,e.post=f,
e.version="0.0.2",window.xstyle=e})();